<template>
  <v-container>
    <h2>ğŸ›’ Ø³Ù„Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª</h2>
    
    <!-- Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ÙÙŠ Ø§Ù„Ø³Ù„Ø© -->
    <v-list v-if="cart.length">
      <v-list-item v-for="item in cart" :key="item.id">
        <v-list-item-content>
          <v-list-item-title>{{ item.title }} (x{{ item.quantity }})</v-list-item-title>
          <v-list-item-subtitle>Ø§Ù„Ø³Ø¹Ø±: {{ item.price }} $</v-list-item-subtitle>
        </v-list-item-content>
        
        <!-- Ø²Ø± Ø­Ø°Ù Ø§Ù„Ù…Ù†ØªØ¬ Ù…Ù† Ø§Ù„Ø³Ù„Ø© -->
        <v-btn color="red" @click="removeFromCart(item.id)">âŒ</v-btn>
      </v-list-item>
    </v-list>

    <!-- Ø±Ø³Ø§Ù„Ø© Ø¹Ù†Ø¯ ÙƒÙˆÙ† Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ© -->
    <v-alert v-else type="info">Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©</v-alert>

    <!-- Ø²Ø± Ø¥ÙØ±Ø§Øº Ø§Ù„Ø³Ù„Ø© Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ -->
    <v-btn color="error" @click="clearCart" v-if="cart.length">Ø¥ÙØ±Ø§Øº Ø§Ù„Ø³Ù„Ø©</v-btn>
  </v-container>
</template>

<script>
import { useCartStore } from '@/store/cart';
import { computed } from 'vue';

export default {
  setup() {
    const cartStore = useCartStore();
    const cart = computed(() => cartStore.cart);

    return {
      cart,
      removeFromCart: cartStore.removeFromCart,
      clearCart: cartStore.clearCart
    };
  }
};
</script>
